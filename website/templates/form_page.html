{% extends "base.html" %}
{% block title %}Submit Tasting{% endblock %}

{% block content %}
<h1 style="text-align:center; margin-bottom:15px;">Submit New Tasting</h1>

<form method="POST">
    <!-- Top info -->
    <div style="text-align:center; margin-bottom:20px;">
        <label for="date">Date:</label>
        <input type="datetime-local" name="date" value="{{ now.strftime('%Y-%m-%dT%H:%M') }}" required>

        <label for="store_name">Store:</label>
        <select name="store_name" required>
            <option>Liquor Barn Beaumont</option>
            <option>Liquor Barn Hamburg</option>
            <option>Total Wine & More Lexington Green</option>
        </select>

        <label for="tastings_poured">Tastings Poured:</label>
        <input type="number" name="tastings_poured" value="0" required>
    </div>

    <!-- Products in two columns -->
    <div class="products-container">
        {% set half = (products|length // 2) + (products|length % 2) %}
        <div class="products-column">
            {% for product in products[:half] %}
            <fieldset>
                <legend>{{ product }}</legend>
                <label>Bottles on Hand to Sell:</label>
                <input type="number" name="{{ product|replace(' ', '_')|lower }}_to_sell" value="0">
                <label>Bottles Sold:</label>
                <input type="number" name="{{ product|replace(' ', '_')|lower }}_sold" value="0">
            </fieldset>
            {% endfor %}
        </div>
        <div class="products-column">
            {% for product in products[half:] %}
            <fieldset>
                <legend>{{ product }}</legend>
                <label>Bottles on Hand to Sell:</label>
                <input type="number" name="{{ product|replace(' ', '_')|lower }}_to_sell" value="0">
                <label>Bottles Sold:</label>
                <input type="number" name="{{ product|replace(' ', '_')|lower }}_sold" value="0">
            </fieldset>
            {% endfor %}

            <!-- Other product -->
            <fieldset>
                <legend>Other Product</legend>
                <label>Product Name:</label>
                <input type="text" name="other_product_name" placeholder="Enter product name">
                <label>Bottles on Hand to Sell:</label>
                <input type="number" name="other_to_sell" value="0">
                <label>Bottles Sold:</label>
                <input type="number" name="other_sold" value="0">
            </fieldset>
        </div>
    </div>

    <button type="submit">Submit Tasting</button>
</form>



<div style="text-align:center; margin-top:10px;">
    <a href="{{ url_for('views.my_tastings') }}">Back to My Tastings</a>
</div>


<style>
/* Form styling */
form {
    max-width: 900px;
    margin: 0 auto;
    padding: 15px;
    background: #f9f9f9;
    border-radius: 10px;
    box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
}

input[type="number"],
input[type="text"],
input[type="datetime-local"],
select {
    padding: 5px 8px;
    margin-bottom: 8px;
    width: 100%;
    border-radius: 5px;
    border: 1px solid #ccc;
    box-sizing: border-box;
}

.products-container {
    display: flex;
    gap: 20px;
}

.products-column {
    flex: 1;
}

fieldset {
    border: 1px solid #ddd;
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 5px;
}

legend {
    font-weight: bold;
    padding: 0 5px;
}

button {
    display: block;
    width: 100%;
    padding: 10px;
    background-color: black;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    margin-top: 10px;
}

button:hover {
    background-color: #333;
}

a {
    display: inline-block;
    margin-top: 10px;
    color: black;
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}
</style>
{% endblock %}
